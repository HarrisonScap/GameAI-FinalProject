[gd_scene load_steps=31 format=3 uid="uid://bm3ip2d6pqnxj"]

[ext_resource type="Script" path="res://Enemy.gd" id="1_cccd8"]
[ext_resource type="PackedScene" uid="uid://b36ufns1mo2kc" path="res://assets/gltf/arena/arena.gltf" id="1_nenmy"]
[ext_resource type="Script" path="res://main.gd" id="1_ygpgh"]
[ext_resource type="Script" path="res://Continue.gd" id="2_afuai"]
[ext_resource type="Script" path="res://Player.gd" id="2_pk0yy"]
[ext_resource type="Script" path="res://victoryUI.gd" id="3_4huei"]
[ext_resource type="PackedScene" uid="uid://did0pebisd104" path="res://behavior_trees/Medium/behavior_tree3.tscn" id="5_01pq8"]
[ext_resource type="PackedScene" uid="uid://bpa5ll5ia5u6w" path="res://behavior_trees/Easy/enemy_tree1.tscn" id="5_sxouq"]
[ext_resource type="PackedScene" uid="uid://dfvi5g6768upw" path="res://assets/enemies/spear/spear_gladiator.tscn" id="7_b8x4m"]
[ext_resource type="PackedScene" uid="uid://b8hcf48bir3wy" path="res://behavior_trees/Hard/hard_tree.tscn" id="8_ftcwc"]
[ext_resource type="PackedScene" uid="uid://cll1wpt3smqb6" path="res://assets/enemies/sword/sword_gladiator.tscn" id="8_iyplt"]
[ext_resource type="PackedScene" uid="uid://cyapoxdlg464s" path="res://assets/enemies/mace/mace_gladiator_finished.tscn" id="8_vm13h"]
[ext_resource type="PackedScene" uid="uid://8itlle5156kv" path="res://assets/players/sword/sword_player.tscn" id="14_qj6km"]
[ext_resource type="PackedScene" uid="uid://d3psgsoedgy18" path="res://assets/players/spear/player_spear.tscn" id="15_vnym5"]
[ext_resource type="PackedScene" uid="uid://sfyjqqbgm4uw" path="res://assets/players/mace/player_mace.tscn" id="16_1y246"]
[ext_resource type="AudioStream" uid="uid://dvwioweiiqc3p" path="res://assets/audio/block.wav" id="17_4f16b"]
[ext_resource type="SpriteFrames" uid="uid://dg4kvhq862uvc" path="res://assets/gifs/audience.gif" id="17_0418l"]
[ext_resource type="AudioStream" uid="uid://c2mw6pkvol311" path="res://assets/audio/mace_break_shiedl.wav" id="18_t4o11"]
[ext_resource type="AudioStream" uid="uid://b3i6dsx1voudl" path="res://assets/audio/mace_ground_slam.mp3" id="19_cbkvl"]
[ext_resource type="AudioStream" uid="uid://de5cxdhqr0uff" path="res://assets/audio/mace_hit.mp3" id="20_m75j3"]
[ext_resource type="AudioStream" uid="uid://bygmtt8vxlnoh" path="res://assets/audio/shield_bash.mp3" id="21_xrotd"]
[ext_resource type="AudioStream" uid="uid://b015oi7h3et0q" path="res://assets/audio/shield_block.mp3" id="22_dx7y7"]
[ext_resource type="AudioStream" uid="uid://c4rservp5x27i" path="res://assets/audio/spear_stab.wav" id="23_vwqxy"]
[ext_resource type="AudioStream" uid="uid://bm08654xtl8oh" path="res://assets/audio/sword_riposte.wav" id="24_prwev"]
[ext_resource type="AudioStream" uid="uid://dpkd165xqo4ls" path="res://assets/audio/sword_spin_attack.wav" id="25_5jyax"]
[ext_resource type="AudioStream" uid="uid://btu7uiq572rk4" path="res://assets/audio/sword_swing.mp3" id="26_g5xyx"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_nvopg"]
sky_top_color = Color(0.658493, 0.342203, 0.325236, 1)
sky_horizon_color = Color(0.805937, 0.615726, 0.372581, 1)

[sub_resource type="Sky" id="Sky_sdeja"]
sky_material = SubResource("ProceduralSkyMaterial_nvopg")

[sub_resource type="Environment" id="Environment_g1lyf"]
background_mode = 2
sky = SubResource("Sky_sdeja")
sdfgi_use_occlusion = true

[sub_resource type="LabelSettings" id="LabelSettings_g7pmp"]
font_size = 30

[node name="Node3D" type="Node3D"]
script = ExtResource("1_ygpgh")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.384263, 0.144695, -0.911814, -4.44089e-16, 0.987642, 0.156728, 0.923224, -0.0602246, 0.379514, 7.24798, 13.6018, 8.73694)
light_bake_mode = 1

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_g1lyf")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.507343, 0, 0.861744, 0, 1, 0, -0.861744, 0, 0.507343, 8.25985, 3.959, 2.16237)
current = true
fov = 33.3
size = 5.374
near = 0.165

[node name="actionCamera1" type="Camera3D" parent="."]
transform = Transform3D(-0.251934, 0.346619, -0.90354, 1.56562e-08, 0.933655, 0.358172, 0.967744, 0.0902359, -0.23522, -0.122844, 5.54429, -2.14363)

[node name="actionCamera2" type="Camera3D" parent="."]
transform = Transform3D(0.847048, -0.192158, -0.495566, 0, 0.932362, -0.361527, 0.531517, 0.306231, 0.789755, 2.8754, 3.2585, -0.962777)

[node name="actionCamera3" type="Camera3D" parent="."]
transform = Transform3D(-0.602551, -0.539256, -0.588333, -0.385836, 0.842142, -0.376732, 0.698615, 0, -0.715498, 1.44455, 3.08055, -1.2656)

[node name="victoryUI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("3_4huei")

[node name="victoryLabel" type="Label" parent="victoryUI"]
layout_mode = 0
offset_left = 181.0
offset_top = 205.0
offset_right = 997.0
offset_bottom = 349.0
label_settings = SubResource("LabelSettings_g7pmp")

[node name="roundLabel" type="Label" parent="victoryUI"]
layout_mode = 0
offset_left = 447.0
offset_top = 274.0
offset_right = 749.0
offset_bottom = 369.0

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="resolve" type="Label" parent="Control"]
layout_mode = 0
offset_left = 383.0
offset_top = 97.0
offset_right = 770.0
offset_bottom = 227.0

[node name="Continue" type="Button" parent="Control"]
layout_mode = 0
offset_left = 491.0
offset_top = 241.0
offset_right = 660.0
offset_bottom = 286.0
text = "Continue"
script = ExtResource("2_afuai")

[node name="Player" type="Node2D" parent="Control"]
script = ExtResource("2_pk0yy")

[node name="Attack" type="Button" parent="Control/Player"]
offset_left = 25.0
offset_top = 524.0
offset_right = 160.0
offset_bottom = 574.0
theme_override_colors/icon_disabled_color = Color(0.604586, 0, 0.230644, 1)
text = "Attack"

[node name="Attack2" type="Button" parent="Control/Player"]
offset_left = 162.0
offset_top = 524.0
offset_right = 301.0
offset_bottom = 574.0
text = "Attack2"

[node name="Attack3" type="Button" parent="Control/Player"]
offset_left = 302.0
offset_top = 525.0
offset_right = 441.0
offset_bottom = 575.0
text = "Attack3"

[node name="Block" type="Button" parent="Control/Player"]
offset_left = 25.0
offset_top = 576.0
offset_right = 160.0
offset_bottom = 626.0
text = "Block
Stamina Cost: 25
"

[node name="Pass" type="Button" parent="Control/Player"]
offset_left = 162.0
offset_top = 576.0
offset_right = 300.0
offset_bottom = 626.0
text = "Pass"

[node name="Potion" type="Button" parent="Control/Player"]
offset_left = 302.0
offset_top = 576.0
offset_right = 440.0
offset_bottom = 626.0
text = "Potion (3/3)"

[node name="Player Information" type="Label" parent="Control/Player"]
offset_left = 26.0
offset_top = 447.0
offset_right = 124.0
offset_bottom = 508.0
text = "Player
Health: 50
"
metadata/_edit_use_anchors_ = true

[node name="Attack Description" type="Label" parent="Control/Player"]
offset_left = 477.0
offset_top = 548.0
offset_right = 820.0
offset_bottom = 609.0

[node name="Enemy" type="Node2D" parent="Control"]
script = ExtResource("1_cccd8")

[node name="EasyTree" parent="Control/Enemy" node_paths=PackedStringArray("blackboard", "actor") instance=ExtResource("5_sxouq")]
enabled = false
blackboard = NodePath("@Node@32155")
actor = NodePath("..")

[node name="MediumTree" parent="Control/Enemy" node_paths=PackedStringArray("blackboard", "actor") instance=ExtResource("5_01pq8")]
blackboard = NodePath("@Node@32156")
actor = NodePath("..")

[node name="HardTree" parent="Control/Enemy" node_paths=PackedStringArray("blackboard") instance=ExtResource("8_ftcwc")]
blackboard = NodePath("@Node@32157")

[node name="Attack1" type="Button" parent="Control/Enemy"]
offset_left = 1006.0
offset_top = 115.0
offset_right = 1129.0
offset_bottom = 174.0
disabled = true

[node name="Attack2" type="Button" parent="Control/Enemy"]
offset_left = 1006.0
offset_top = 184.0
offset_right = 1129.0
offset_bottom = 243.0
disabled = true

[node name="Attack3" type="Button" parent="Control/Enemy"]
offset_left = 1006.0
offset_top = 253.0
offset_right = 1129.0
offset_bottom = 312.0
disabled = true

[node name="Enemy Information" type="Label" parent="Control/Enemy"]
offset_left = 931.0
offset_top = 16.0
offset_right = 1020.0
offset_bottom = 72.0
text = "Enemy
Health: 50
"

[node name="Enemy Attack Info" type="Label" parent="Control/Enemy"]
offset_left = 238.0
offset_top = 14.0
offset_right = 459.0
offset_bottom = 79.0

[node name="sword_gladiator_finished" parent="." instance=ExtResource("8_iyplt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.97793, 2.15734, -2.85442)

[node name="spear_gladiator_finished" parent="." instance=ExtResource("7_b8x4m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.96202, 2.04852, -2.69917)

[node name="mace_gladiator_finished" parent="." instance=ExtResource("8_vm13h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.97193, 2.04332, -2.75988)

[node name="arena" parent="." instance=ExtResource("1_nenmy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.52055, 1.62225, -1.03656)

[node name="sword_player" parent="." instance=ExtResource("14_qj6km")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 2.618, 2.113, 0.836)

[node name="player_spear" parent="." instance=ExtResource("15_vnym5")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 2.64632, 2.09088, 0.690297)

[node name="player_mace" parent="." instance=ExtResource("16_1y246")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 2.62991, 2.07442, 0.687564)

[node name="audience" type="Node3D" parent="."]

[node name="AnimatedSprite3D" type="AnimatedSprite3D" parent="audience"]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 8.80534, -14.8645)
sprite_frames = ExtResource("17_0418l")
animation = &"gif"
autoplay = "gif"
speed_scale = 3.0

[node name="AnimatedSprite3D2" type="AnimatedSprite3D" parent="audience"]
transform = Transform3D(1.85353, 0, -0.751284, 0, 2, 0, 0.751284, 0, 1.85353, 5.12853, 8.27608, -13.9147)
sprite_frames = ExtResource("17_0418l")
animation = &"gif"
autoplay = "gif"

[node name="AnimatedSprite3D3" type="AnimatedSprite3D" parent="audience"]
transform = Transform3D(1.59504, 0, 1.20658, 0, 2, 0, -1.20658, 0, 1.59504, -6.06123, 8.80534, -12.7625)
sprite_frames = ExtResource("17_0418l")
animation = &"gif"
autoplay = "gif"
speed_scale = 3.0

[node name="AnimatedSprite3D4" type="AnimatedSprite3D" parent="audience"]
transform = Transform3D(-0.56803, 0, -1.91764, 0, 2, 0, 1.91764, 0, -0.56803, -12.1668, 8.80534, -3.42794)
sprite_frames = ExtResource("17_0418l")
animation = &"gif"
autoplay = "gif"
speed_scale = 3.0

[node name="AnimatedSprite3D5" type="AnimatedSprite3D" parent="audience"]
transform = Transform3D(1.9757, 0, -0.3108, 0, 2, 0, 0.3108, 0, 1.9757, 0, 8.3569, 12.2793)
sprite_frames = ExtResource("17_0418l")
animation = &"gif"
autoplay = "gif"

[node name="AnimatedSprite3D6" type="AnimatedSprite3D" parent="audience"]
transform = Transform3D(-0.421763, 0, -1.95502, 0, 2, 0, 1.95502, 0, -0.421763, 15.2317, 8.72754, 1.2032)
sprite_frames = ExtResource("17_0418l")
animation = &"gif"
autoplay = "gif"
speed_scale = 3.0

[node name="AnimatedSprite3D7" type="AnimatedSprite3D" parent="audience"]
transform = Transform3D(-0.512781, 0, 1.93315, 0, 2, 0, -1.93315, 0, -0.512781, -11.4756, 8.71599, 3.61636)
sprite_frames = ExtResource("17_0418l")
animation = &"gif"
autoplay = "gif"

[node name="AnimatedSprite3D8" type="AnimatedSprite3D" parent="audience"]
transform = Transform3D(1.33369, 0, -1.49039, 0, 2, 0, 1.49039, 0, 1.33369, -7.70432, 7.5117, 7.04382)
sprite_frames = ExtResource("17_0418l")
animation = &"gif"
autoplay = "gif"
speed_scale = 3.0

[node name="AnimatedSprite3D9" type="AnimatedSprite3D" parent="audience"]
transform = Transform3D(-0.174207, 0, -1.9924, 0, 2, 0, 1.9924, 0, -0.174207, -11.9782, 8.17578, 0.00208306)
sprite_frames = ExtResource("17_0418l")
animation = &"gif"
autoplay = "gif"

[node name="AnimatedSprite3D10" type="AnimatedSprite3D" parent="audience"]
transform = Transform3D(1.60403, 0, 1.19461, 0, 2, 0, -1.19461, 0, 1.60403, -7.70432, 7.54543, -9.15876)
sprite_frames = ExtResource("17_0418l")
animation = &"gif"
autoplay = "gif"
speed_scale = 3.0

[node name="AnimatedSprite3D11" type="AnimatedSprite3D" parent="audience"]
transform = Transform3D(-0.989431, 0, 1.73811, 0, 2, 0, -1.73811, 0, -0.989431, 12.6014, 7.6142, -6.54221)
sprite_frames = ExtResource("17_0418l")
animation = &"gif"
autoplay = "gif"

[node name="AnimatedSprite3D12" type="AnimatedSprite3D" parent="audience"]
transform = Transform3D(-1.26319, 0, -1.55059, 0, 2, 0, 1.55059, 0, -1.26319, 11.7951, 7.6142, 5.92795)
sprite_frames = ExtResource("17_0418l")
animation = &"gif"
autoplay = "gif"
speed_scale = 3.0

[node name="sound_block" type="AudioStreamPlayer" parent="."]
stream = ExtResource("17_4f16b")

[node name="sound_break_shield" type="AudioStreamPlayer" parent="."]
stream = ExtResource("18_t4o11")

[node name="sound_ground_slam" type="AudioStreamPlayer" parent="."]
stream = ExtResource("19_cbkvl")

[node name="sound_mace_hit" type="AudioStreamPlayer" parent="."]
stream = ExtResource("20_m75j3")

[node name="sound_shield_bash" type="AudioStreamPlayer" parent="."]
stream = ExtResource("21_xrotd")

[node name="sound_shield_block" type="AudioStreamPlayer" parent="."]
stream = ExtResource("22_dx7y7")

[node name="sound_spear_stab" type="AudioStreamPlayer" parent="."]
stream = ExtResource("23_vwqxy")

[node name="sound_riposte" type="AudioStreamPlayer" parent="."]
stream = ExtResource("24_prwev")

[node name="sound_spin_attack" type="AudioStreamPlayer" parent="."]
stream = ExtResource("25_5jyax")

[node name="sound_sword_swing" type="AudioStreamPlayer" parent="."]
stream = ExtResource("26_g5xyx")

[connection signal="pressed" from="Control/Continue" to="." method="_on_continue_pressed"]
[connection signal="mouse_entered" from="Control/Player/Attack" to="Control/Player" method="_on_attack_mouse_entered"]
[connection signal="mouse_exited" from="Control/Player/Attack" to="Control/Player" method="_on_attack_mouse_exited"]
[connection signal="pressed" from="Control/Player/Attack" to="." method="_on_attack_pressed"]
[connection signal="mouse_entered" from="Control/Player/Attack2" to="Control/Player" method="_on_attack_2_mouse_entered"]
[connection signal="mouse_exited" from="Control/Player/Attack2" to="." method="_on_attack_2_mouse_exited"]
[connection signal="mouse_exited" from="Control/Player/Attack2" to="Control/Player" method="_on_attack_2_mouse_exited"]
[connection signal="pressed" from="Control/Player/Attack2" to="." method="_on_attack_2_pressed"]
[connection signal="mouse_entered" from="Control/Player/Attack3" to="Control/Player" method="_on_attack_3_mouse_entered"]
[connection signal="mouse_exited" from="Control/Player/Attack3" to="Control/Player" method="_on_attack_3_mouse_exited"]
[connection signal="pressed" from="Control/Player/Attack3" to="." method="_on_attack_3_pressed"]
[connection signal="mouse_entered" from="Control/Player/Block" to="Control/Player" method="_on_block_mouse_entered"]
[connection signal="mouse_exited" from="Control/Player/Block" to="Control/Player" method="_on_block_mouse_exited"]
[connection signal="pressed" from="Control/Player/Block" to="." method="_on_block_pressed"]
[connection signal="mouse_entered" from="Control/Player/Pass" to="Control/Player" method="_on_pass_mouse_entered"]
[connection signal="mouse_exited" from="Control/Player/Pass" to="Control/Player" method="_on_pass_mouse_exited"]
[connection signal="pressed" from="Control/Player/Pass" to="." method="_on_pass_pressed"]
[connection signal="mouse_entered" from="Control/Player/Potion" to="Control/Player" method="_on_potion_mouse_entered"]
[connection signal="mouse_exited" from="Control/Player/Potion" to="Control/Player" method="_on_potion_mouse_exited"]
[connection signal="pressed" from="Control/Player/Potion" to="." method="_on_potion_pressed"]
[connection signal="mouse_entered" from="Control/Enemy/Attack1" to="Control/Enemy" method="_on_attack_1_mouse_entered"]
[connection signal="mouse_exited" from="Control/Enemy/Attack1" to="Control/Enemy" method="_on_attack_1_mouse_exited"]
[connection signal="mouse_entered" from="Control/Enemy/Attack2" to="Control/Enemy" method="_on_attack_2_mouse_entered"]
[connection signal="mouse_exited" from="Control/Enemy/Attack2" to="Control/Enemy" method="_on_attack_2_mouse_exited"]
[connection signal="mouse_entered" from="Control/Enemy/Attack3" to="Control/Enemy" method="_on_attack_3_mouse_entered"]
[connection signal="mouse_exited" from="Control/Enemy/Attack3" to="Control/Enemy" method="_on_attack_3_mouse_exited"]
